(()=>{"use strict";function e(i){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(i)}function i(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,s(t.key),t)}}function n(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t(e,i,n){return(i=s(i))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}function s(i){var n=function(i,n){if("object"!==e(i)||null===i)return i;var t=i[Symbol.toPrimitive];if(void 0!==t){var s=t.call(i,"string");if("object"!==e(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(i);return"symbol"===e(n)?n:String(n)}var a=n((function e(i,n){var s=this;!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),t(this,"generateKeys",(function(e){var i=[];return e.forEach((function(e){var n=s.createKeyInstance(e,s.lang);i.push(n.createKey()),s.keyElements.push(n)})),i})),t(this,"renderKeys",(function(e,i){return s.generateKeys(e).forEach((function(e){return i.append(e)})),i})),t(this,"createRow",(function(){var e=document.createElement("div");return e.classList.add("keyboard__row"),e})),t(this,"renderKeyBoard",(function(){for(var e in s.keys)s.keyboard.append(s.renderKeys(s.keys[e],s.createRow()))})),t(this,"createLayoutStructure",(function(){s.page=document.createElement("div"),s.page.classList.add("page"),s.input=document.createElement("textarea"),s.input.classList.add("text-field"),s.switchBtn=document.createElement("button"),s.switchBtn.classList.add("button"),s.switchBtn.textContent="change language",s.switchBtn.id="switchLangBtn",s.keyboard=document.createElement("div"),s.keyboard.classList.add("keyboard"),s.body.append(s.page),s.page.append(s.input),s.page.append(s.switchBtn),s.page.append(s.keyboard)})),t(this,"initiate",(function(){s.createLayoutStructure(),s.renderKeyBoard(),s.switchBtn.addEventListener("click",s.changeLang),s.setListeners()})),t(this,"changeLang",(function(){s.lang=s.lang===s.LANGUAGES.ru?s.LANGUAGES.en:s.LANGUAGES.ru,s.keyElements.forEach((function(e){return e.changeLang(s.lang)}))})),t(this,"setListeners",(function(){document.addEventListener("keydown",(function(e){var i=s.keyElements.find((function(i){return i.getValues().some((function(i){return i===e.key}))}));i?i.highlight():console.log("нет такой клавиши")})),document.addEventListener("keyup",(function(e){var i=s.keyElements.find((function(i){return i.getValues().some((function(i){return i===e.key}))}));i?i.stopHighlight():console.log("нет такой клавиши")}))})),this.createKeyInstance=n,this.keys=i,this.LANGUAGES={ru:"ru",en:"en"},this.lang=this.LANGUAGES.en,this.body=document.querySelector(".root"),this.keyElements=[],this.initiate()}));function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,u(t.key),t)}}function h(e,i,n){return i&&o(e.prototype,i),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,i,n){return(i=u(i))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}function u(e){var i=function(e,i){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!==r(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(i)?i:String(i)}var m=h((function e(i,n){var t=this;!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"createKey",(function(){return t.keyEl=document.createElement("button"),t.keyEl.classList.add("keyboard__key"),t.keyEl.classList.add("keyboard__key_size_".concat(t.key.size)),t.keyCharMain=document.createElement("p"),t.keyCharMain.classList.add("keyboard__key-main"),t.keyCharShift=document.createElement("p"),t.keyCharShift.classList.add("keyboard__key-shift"),t.keyEl.append(t.keyCharMain),t.keyEl.append(t.keyCharShift),t.renderLangState(),t.setListeners(),t.keyEl})),f(this,"renderLangState",(function(){var e,i,n;t.chars=t.key.en?"ru"===t.lang?t.key.ru:t.key.en:t.key,t.keyCharMain.textContent="Control"===t.chars.main?"Ctrl":"Meta"===t.chars.main?"Win":"ArrowUp"===t.chars.main?"Up":"ArrowLeft"===t.chars.main?"Lft":"ArrowRight"===t.chars.main?"Rght":"ArrowDown"===t.chars.main?"Dwn":"Delete"===t.chars.main?"Del":1===t.chars.main.length?t.chars.main.toUpperCase():t.chars.main,t.keyCharShift.textContent=(null===(e=t.chars)||void 0===e?void 0:e.shift)!==(null===(i=t.chars)||void 0===i?void 0:i.main.toUpperCase())?null===(n=t.chars)||void 0===n?void 0:n.shift:""})),f(this,"changeLang",(function(e){t.lang=e,t.renderLangState()})),f(this,"getValues",(function(){return[t.chars.main,t.chars.shift]})),f(this,"highlight",(function(){t.keyEl.classList.add("keyboard__key_highlighted")})),f(this,"stopHighlight",(function(){t.keyEl.classList.remove("keyboard__key_highlighted")})),f(this,"animate",(function(){t.keyEl.classList.add("keyboard__key_pressed")})),f(this,"stopAnimate",(function(){t.keyEl.classList.remove("keyboard__key_pressed")})),f(this,"setListeners",(function(){t.keyEl.addEventListener("mousedown",(function(){t.highlight(),t.animate()})),t.keyEl.addEventListener("mouseup",(function(){t.stopHighlight(),t.stopAnimate()}))})),this.key=i,this.lang=n}));new a({row1:[{size:"s",en:{shift:"~",main:"`"},ru:{shift:"Ё",main:"ё"}},{size:"s",shift:"!",main:"1"},{size:"s",shift:"@",main:"2"},{size:"s",shift:"#",main:"3"},{size:"s",shift:"$",main:"4"},{size:"s",shift:"%",main:"5"},{size:"s",shift:"^",main:"6"},{size:"s",shift:"&",main:"7"},{size:"s",shift:"*",main:"8"},{size:"s",shift:"(",main:"9"},{size:"s",shift:")",main:"0"},{size:"s",shift:"_",main:"-"},{size:"s",shift:"+",main:"="},{size:"xl",main:"Backspace"}],row2:[{size:"m",main:"Tab"},{size:"s",en:{shift:"Q",main:"q"},ru:{shift:"Й",main:"й"}},{size:"s",en:{shift:"W",main:"w"},ru:{shift:"Ц",main:"ц"}},{size:"s",en:{shift:"E",main:"e"},ru:{shift:"У",main:"у"}},{size:"s",en:{shift:"R",main:"r"},ru:{shift:"К",main:"к"}},{size:"s",en:{shift:"T",main:"t"},ru:{shift:"Е",main:"е"}},{size:"s",en:{shift:"Y",main:"y"},ru:{shift:"Н",main:"н"}},{size:"s",en:{shift:"U",main:"u"},ru:{shift:"Г",main:"г"}},{size:"s",en:{shift:"I",main:"i"},ru:{shift:"Ш",main:"ш"}},{size:"s",en:{shift:"O",main:"o"},ru:{shift:"Щ",main:"щ"}},{size:"s",en:{shift:"P",main:"p"},ru:{shift:"З",main:"з"}},{size:"s",en:{shift:"{",main:"["},ru:{shift:"Х",main:"х"}},{size:"s",en:{shift:"}",main:"]"},ru:{shift:"Ъ",main:"ъ"}},{size:"s",en:{shift:"|",main:"\\"},ru:{shift:"/",main:"\\"}},{size:"s",main:"Delete"}],row3:[{size:"xl",main:"CapsLock"},{size:"s",en:{shift:"A",main:"a"},ru:{shift:"Ф",main:"ф"}},{size:"s",en:{shift:"S",main:"s"},ru:{shift:"Ы",main:"ы"}},{size:"s",en:{shift:"D",main:"d"},ru:{shift:"В",main:"в"}},{size:"s",en:{shift:"F",main:"f"},ru:{shift:"А",main:"а"}},{size:"s",en:{shift:"G",main:"g"},ru:{shift:"П",main:"п"}},{size:"s",en:{shift:"H",main:"h"},ru:{shift:"Р",main:"р"}},{size:"s",en:{shift:"J",main:"j"},ru:{shift:"О",main:"о"}},{size:"s",en:{shift:"K",main:"k"},ru:{shift:"Л",main:"л"}},{size:"s",en:{shift:"L",main:"l"},ru:{shift:"Д",main:"д"}},{size:"s",en:{shift:":",main:";"},ru:{shift:"Ж",main:"ж"}},{size:"s",en:{shift:'"',main:"'"},ru:{shift:"Э",main:"э"}},{size:"l",main:"Enter"}],row4:[{size:"xl",main:"Shift"},{size:"s",main:"\\"},{size:"s",en:{shift:"Z",main:"z"},ru:{shift:"Я",main:"я"}},{size:"s",en:{shift:"X",main:"x"},ru:{shift:"Ч",main:"ч"}},{size:"s",en:{shift:"C",main:"c"},ru:{shift:"С",main:"с"}},{size:"s",en:{shift:"V",main:"v"},ru:{shift:"М",main:"м"}},{size:"s",en:{shift:"B",main:"b"},ru:{shift:"И",main:"и"}},{size:"s",en:{shift:"N",main:"n"},ru:{shift:"Т",main:"т"}},{size:"s",en:{shift:"M",main:"m"},ru:{shift:"Ь",main:"ь"}},{size:"s",en:{shift:"<",main:","},ru:{shift:"Б",main:"б"}},{size:"s",en:{shift:">",main:"."},ru:{shift:"Ю",main:"ю"}},{size:"s",en:{shift:"?",main:"/"},ru:{shift:",",main:"."}},{size:"s",main:"ArrowUp"},{size:"s",main:"Shift"}],row5:[{size:"l",main:"Control"},{size:"s",main:"Meta"},{size:"s",main:"Alt"},{size:"xxxl",main:" "},{size:"s",main:"Alt"},{size:"l",main:"Control"},{size:"s",main:"ArrowLeft"},{size:"s",main:"ArrowDown"},{size:"s",main:"ArrowRight"}]},(function(e,i){return new m(e,i)})).changeLang()})();